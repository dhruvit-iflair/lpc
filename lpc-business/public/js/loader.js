Loader={loadingForeground:{},loadingBackground:{},isActive:function(){return Object.keys(Loader.loadingForeground).length||Object.keys(Loader.loadingBackground).length},isForeground:function(){return Object.keys(Loader.loadingForeground).length>0},isBackground:function(){return Object.keys(Loader.loadingBackground).length>0},start:function(o,e){o||(o="default"),void 0===e&&(e=!0);var d=!1;e?(d=Loader.isBackground(),Loader.loadingForeground[o]=!0):Loader.loadingBackground[o]=!0;var r=Loader.isForeground();return document.body.classList.add("loading",r?"loading-foreground":"loading-background"),d&&Loader.timers.backgroundCloseout.setup(),document.body.classList.remove(r?"loading-background":"loading-foreground"),Loader},startBackground:function(o){return Loader.start(o,!1)},timers:{foregroundCloseout:{handle:null,interval:1e3,callback:function(){document.body.classList.remove("loading-foreground-closing")},setup:function(){document.body.classList.add("loading-foreground-closing"),Loader.timers.foregroundCloseout.handle=setTimeout(Loader.timers.foregroundCloseout.callback,Loader.timers.foregroundCloseout.interval)},teardown:function(){cancelTimeout(Loader.timers.foregroundCloseout.handle)}},backgroundCloseout:{handle:null,interval:1e3,callback:function(){document.body.classList.remove("loading-background-closing")},setup:function(){document.body.classList.add("loading-background-closing"),Loader.timers.backgroundCloseout.handle=setTimeout(Loader.timers.backgroundCloseout.callback,Loader.timers.backgroundCloseout.interval)},teardown:function(){cancelTimeout(Loader.timers.backgroundCloseout.handle)}}},stop:function(o){o||(o="default");var e=Loader.loadingForeground[o];if(e)delete Loader.loadingForeground[o];else{if(!Loader.loadingBackground[o])return;delete Loader.loadingBackground[o]}return Loader.isActive()?Loader.isForeground()||(document.body.classList.add("loading-background"),document.body.classList.remove("loading-foreground"),Loader.timers.foregroundCloseout.setup()):(document.body.classList.remove("loading","loading-foreground","loading-background"),e?Loader.timers.foregroundCloseout.setup():Loader.timers.backgroundCloseout.setup()),Loader},clear:function(){return Loader.loadingForeground={},Loader.loadingBackground={},Loader.stop(),Loader},templateHTML:'<div class="loader-bar"></div><div class="loader-spinner"></div>',init:function(){var o=document.createElement("div");o.innerHTML=Loader.templateHTML,document.body.appendChild(o)}},document.addEventListener("DOMContentLoaded",Loader.init);